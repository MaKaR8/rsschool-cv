import langArr from"./translate.js";const LangBtns=document.querySelectorAll(".header__lang"),allLang=["en","ru"];for(let e of LangBtns)"ru"===e.dataset.i18?e.addEventListener("click",(()=>{changeURLLanguage("ru");for(let e of LangBtns)e.style.background="var(--global-w)",e.style.color="var(--global-b)";e.style.background="var(--global-b)",e.style.color="var(--global-w)"})):"en"===e.dataset.i18&&e.addEventListener("click",(()=>{changeURLLanguage("en");for(let e of LangBtns)e.style.background="var(--global-w",e.style.color="var(--global-b)";e.style.background="var(--global-b)",e.style.color="var(--global-w)"}));function changeURLLanguage(e){location.href=window.location.pathname+"#"+e,location.reload()}function changeLanguage(){let e=window.location.hash,t=document.querySelectorAll("input, label, li, div, h1, h2, a, button");const o=document.querySelector(".you"),l=document.querySelector(".photo"),s=sessionStorage.getItem("you");let a=0;e=e.substr(1),console.log(e),allLang.includes(e)||(location.href=window.location.pathname+"#en",location.reload()),0===a&&null!=s&&(o.dataset.i18=s,a+=1),document.querySelector("title").innerHTML=langArr[e]["сurriculum vitae"],l.dataset.i18=langArr[e][l.dataset.i18];for(let o of t)o.dataset.i18&&(o.placeholder=langArr[e][o.dataset.i18],o.innerHTML=langArr[e][o.dataset.i18])}changeLanguage();const skills=document.querySelector("body"),root=document.querySelector(".theme__pic"),currentTheme=localStorage.getItem("theme");let flag_t=0;function teme_but(){"on"===root.dataset.sost?(root.dataset.sost="off",localStorage.setItem("theme",root.dataset.sost),teme()):"off"===root.dataset.sost&&(root.dataset.sost="on",localStorage.setItem("theme",root.dataset.sost),teme())}function teme(){0===flag_t&&null!=currentTheme&&(root.dataset.sost=currentTheme,flag_t+=1),"on"===root.dataset.sost?(root.style.setProperty("--theme-d2","url(/assets/img/svg/theme/Vector.svg) no-repeat center"),skills.style.setProperty("--global-b","#fff"),skills.style.setProperty("--global-g","#222222"),skills.style.setProperty("--global-w","#070707"),skills.style.setProperty("--invert","100%")):"off"===root.dataset.sost&&(root.style.setProperty("--theme-d2","url(/assets/img/svg/theme/carbon_sun.svg) no-repeat center"),skills.style.setProperty("--global-b","#070707"),skills.style.setProperty("--global-g","#f6f6f6"),skills.style.setProperty("--global-w","#fff"),skills.style.setProperty("--invert","0%")),console.log(root.dataset.sost)}function button_con(){const e=document.getElementById("but_send"),t=document.getElementById("but_sub"),o=document.querySelector("body"),l=document.querySelector(".you");e.addEventListener("click",(function(){setTimeout((()=>{o.style.setProperty("--flex","none"),o.style.setProperty("--none","flex")}),500)})),t.addEventListener("click",(function(){setTimeout((()=>{o.style.setProperty("--flex","flex"),o.style.setProperty("--none","none"),l.dataset.i18="Thank",sessionStorage.setItem("you",l.dataset.i18),location.reload()}),500)}))}root.addEventListener("click",(function(){setTimeout((()=>{teme_but()}),1e3)})),teme(),button_con();const hamburger=document.querySelector(".hamburger");function toggleMenu(){hamburger.classList.toggle("open")}function preloadImages(e){preloadImages.list||(preloadImages.list=[]);let t=preloadImages.list;for(let o=0;o<e.length;o++){let l=new Image;l.onload=function(){let e=t.indexOf(this);-1!==e&&t.splice(e,1)},t.push(l),l.src=e[o]}}hamburger.addEventListener("click",toggleMenu),preloadImages(["/assets/img/svg/theme/carbon_sun.svg","/assets/img/svg/theme/Vector.svg","/assets/img/index.jpg"]);